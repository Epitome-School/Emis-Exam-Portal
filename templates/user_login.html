{% extends "base.html" %}

{% block title %}Candidate Login - EMIS Exam Portal{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/user_login.css') }}">
{% endblock %}

{% block content %}
<div class="login-page">
  <div class="login-card">
    <div class="logo-container">
      <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="EMIS Logo" class="logo">
      <h2 class="school-name">EMIS ‚Äì Candidate Login</h2>
      <p class="login-subtitle">Access your exam portal</p>
    </div>

    <!-- Error Flash -->
    {% if error %}
    <div class="error-banner">
      ‚ùå {{ error }}
    </div>
    {% endif %}

    <form id="userLoginForm" method="POST" class="login-form">
      <div class="form-field">
        <label for="full-name">Full Name</label>
        <input type="text" id="full-name" name="full_name" required placeholder="Enter your full name">
      </div>

      <div class="form-field">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required placeholder="Enter your email address">
      </div>

      <div class="form-field">
        <label for="gender">Gender</label>
        <select id="gender" name="gender" required>
          <option value="" disabled selected>Select your gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>

      <!-- NEW: Subject Dropdown -->
      <div class="form-field">
        <label for="subject">Subject</label>
        <select id="subject" name="subject" required>
          <option value="" disabled selected>Select your subject</option>
          <option value="BIOLOGY">BIOLOGY</option>
          <option value="CHEMISTRY">CHEMISTRY</option>
          <option value="COMPUTER STUDIES">COMPUTER STUDIES</option>
          <option value="ECONOMICS">ECONOMICS</option>
          <option value="ENGLISH LANGUAGE">ENGLISH LANGUAGE</option>
          <option value="GEOGRAPHY">GEOGRAPHY</option>
          <option value="GOVERNMENT">GOVERNMENT</option>
          <option value="MATHEMATICS">MATHEMATICS</option>
          <option value="PHYSICS">PHYSICS</option>
          <option value="TECHNICAL DRAWING">TECHNICAL DRAWING</option>
        </select>
      </div>

      <div class="form-field">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" required placeholder="Enter provided username">
      </div>

      <div class="form-field">
        <label for="password">Password</label>
        <div class="password-wrapper">
          <input type="password" id="password" name="password" required placeholder="Enter provided password">
          <button type="button" class="toggle-password" data-target="password" aria-label="Show/Hide password">üëÅÔ∏è</button>
        </div>
      </div>

      <button type="submit" class="login-btn">
        <span class="btn-text">Login</span>
        <div class="loading-spinner hidden"></div>
      </button>
    </form>

    <p class="footer-text">Powered by EMIS ‚Äì Epitome Model Islamic Schools</p>
  </div>
</div>

<!-- Loading Overlay -->
<div id="loadingOverlay" class="loading-overlay hidden">
  <div class="loading-box">
    <div class="loading-spinner big"></div>
    <p>Signing you in...</p>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/user_login.js') }}"></script>
{% endblock %}
